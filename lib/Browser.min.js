(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.DrupalJsonApi = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
module.exports=require("./lib/axios");

},{"./lib/axios":3}],2:[function(require,module,exports){
"use strict";var utils=require("./../utils"),settle=require("./../core/settle"),cookies=require("./../helpers/cookies"),buildURL=require("./../helpers/buildURL"),buildFullPath=require("../core/buildFullPath"),parseHeaders=require("./../helpers/parseHeaders"),isURLSameOrigin=require("./../helpers/isURLSameOrigin"),createError=require("../core/createError");module.exports=function(e){return new Promise(function(r,t){var s=e.data,o=e.headers,a=e.responseType;utils.isFormData(s)&&delete o["Content-Type"];var n=new XMLHttpRequest;if(e.auth){var i=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(i+":"+u)}var l=buildFullPath(e.baseURL,e.url);function d(){if(n){var s="getAllResponseHeaders"in n?parseHeaders(n.getAllResponseHeaders()):null,o={data:a&&"text"!==a&&"json"!==a?n.response:n.responseText,status:n.status,statusText:n.statusText,headers:s,config:e,request:n};settle(r,t,o),n=null}}if(n.open(e.method.toUpperCase(),buildURL(l,e.params,e.paramsSerializer),!0),n.timeout=e.timeout,"onloadend"in n?n.onloadend=d:n.onreadystatechange=function(){n&&4===n.readyState&&(0!==n.status||n.responseURL&&0===n.responseURL.indexOf("file:"))&&setTimeout(d)},n.onabort=function(){n&&(t(createError("Request aborted",e,"ECONNABORTED",n)),n=null)},n.onerror=function(){t(createError("Network Error",e,null,n)),n=null},n.ontimeout=function(){var r="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(r=e.timeoutErrorMessage),t(createError(r,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",n)),n=null},utils.isStandardBrowserEnv()){var p=(e.withCredentials||isURLSameOrigin(l))&&e.xsrfCookieName?cookies.read(e.xsrfCookieName):void 0;p&&(o[e.xsrfHeaderName]=p)}"setRequestHeader"in n&&utils.forEach(o,function(e,r){void 0===s&&"content-type"===r.toLowerCase()?delete o[r]:n.setRequestHeader(r,e)}),utils.isUndefined(e.withCredentials)||(n.withCredentials=!!e.withCredentials),a&&"json"!==a&&(n.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&n.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&n.upload&&n.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){n&&(n.abort(),t(e),n=null)}),s||(s=null),n.send(s)})};

},{"../core/buildFullPath":9,"../core/createError":10,"./../core/settle":14,"./../helpers/buildURL":18,"./../helpers/cookies":20,"./../helpers/isURLSameOrigin":23,"./../helpers/parseHeaders":25,"./../utils":28}],3:[function(require,module,exports){
"use strict";var utils=require("./utils"),bind=require("./helpers/bind"),Axios=require("./core/Axios"),mergeConfig=require("./core/mergeConfig"),defaults=require("./defaults");function createInstance(e){var r=new Axios(e),i=bind(Axios.prototype.request,r);return utils.extend(i,Axios.prototype,r),utils.extend(i,r),i}var axios=createInstance(defaults);axios.Axios=Axios,axios.create=function(e){return createInstance(mergeConfig(axios.defaults,e))},axios.Cancel=require("./cancel/Cancel"),axios.CancelToken=require("./cancel/CancelToken"),axios.isCancel=require("./cancel/isCancel"),axios.all=function(e){return Promise.all(e)},axios.spread=require("./helpers/spread"),axios.isAxiosError=require("./helpers/isAxiosError"),module.exports=axios,module.exports.default=axios;

},{"./cancel/Cancel":4,"./cancel/CancelToken":5,"./cancel/isCancel":6,"./core/Axios":7,"./core/mergeConfig":13,"./defaults":16,"./helpers/bind":17,"./helpers/isAxiosError":22,"./helpers/spread":26,"./utils":28}],4:[function(require,module,exports){
"use strict";function Cancel(e){this.message=e}Cancel.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0,module.exports=Cancel;

},{}],5:[function(require,module,exports){
"use strict";var Cancel=require("./Cancel");function CancelToken(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(e){n=e});var o=this;e(function(e){o.reason||(o.reason=new Cancel(e),n(o.reason))})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.source=function(){var e;return{token:new CancelToken(function(n){e=n}),cancel:e}},module.exports=CancelToken;

},{"./Cancel":4}],6:[function(require,module,exports){
"use strict";module.exports=function(t){return!(!t||!t.__CANCEL__)};

},{}],7:[function(require,module,exports){
"use strict";var utils=require("./../utils"),buildURL=require("../helpers/buildURL"),InterceptorManager=require("./InterceptorManager"),dispatchRequest=require("./dispatchRequest"),mergeConfig=require("./mergeConfig"),validator=require("../helpers/validator"),validators=validator.validators;function Axios(t){this.defaults=t,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=mergeConfig(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&validator.assertOptions(e,{silentJSONParsing:validators.transitional(validators.boolean,"1.0.0"),forcedJSONParsing:validators.transitional(validators.boolean,"1.0.0"),clarifyTimeoutError:validators.transitional(validators.boolean,"1.0.0")},!1);var r=[],o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))});var i,a=[];if(this.interceptors.response.forEach(function(t){a.push(t.fulfilled,t.rejected)}),!o){var s=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(s,r),s=s.concat(a),i=Promise.resolve(t);s.length;)i=i.then(s.shift(),s.shift());return i}for(var n=t;r.length;){var u=r.shift(),l=r.shift();try{n=u(n)}catch(t){l(t);break}}try{i=dispatchRequest(n)}catch(t){return Promise.reject(t)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},Axios.prototype.getUri=function(t){return t=mergeConfig(this.defaults,t),buildURL(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},utils.forEach(["delete","get","head","options"],function(t){Axios.prototype[t]=function(e,r){return this.request(mergeConfig(r||{},{method:t,url:e,data:(r||{}).data}))}}),utils.forEach(["post","put","patch"],function(t){Axios.prototype[t]=function(e,r,o){return this.request(mergeConfig(o||{},{method:t,url:e,data:r}))}}),module.exports=Axios;

},{"../helpers/buildURL":18,"../helpers/validator":27,"./../utils":28,"./InterceptorManager":8,"./dispatchRequest":11,"./mergeConfig":13}],8:[function(require,module,exports){
"use strict";var utils=require("./../utils");function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},InterceptorManager.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager.prototype.forEach=function(e){utils.forEach(this.handlers,function(n){null!==n&&e(n)})},module.exports=InterceptorManager;

},{"./../utils":28}],9:[function(require,module,exports){
"use strict";var isAbsoluteURL=require("../helpers/isAbsoluteURL"),combineURLs=require("../helpers/combineURLs");module.exports=function(e,s){return e&&!isAbsoluteURL(s)?combineURLs(e,s):s};

},{"../helpers/combineURLs":19,"../helpers/isAbsoluteURL":21}],10:[function(require,module,exports){
"use strict";var enhanceError=require("./enhanceError");module.exports=function(r,e,n,o,a){var c=new Error(r);return enhanceError(c,e,n,o,a)};

},{"./enhanceError":12}],11:[function(require,module,exports){
"use strict";var utils=require("./../utils"),transformData=require("./transformData"),isCancel=require("../cancel/isCancel"),defaults=require("../defaults");function throwIfCancellationRequested(e){e.cancelToken&&e.cancelToken.throwIfRequested()}module.exports=function(e){return throwIfCancellationRequested(e),e.headers=e.headers||{},e.data=transformData.call(e,e.data,e.headers,e.transformRequest),e.headers=utils.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),utils.forEach(["delete","get","head","post","put","patch","common"],function(a){delete e.headers[a]}),(e.adapter||defaults.adapter)(e).then(function(a){return throwIfCancellationRequested(e),a.data=transformData.call(e,a.data,a.headers,e.transformResponse),a},function(a){return isCancel(a)||(throwIfCancellationRequested(e),a&&a.response&&(a.response.data=transformData.call(e,a.response.data,a.response.headers,e.transformResponse))),Promise.reject(a)})};

},{"../cancel/isCancel":6,"../defaults":16,"./../utils":28,"./transformData":15}],12:[function(require,module,exports){
"use strict";module.exports=function(e,i,s,t,n){return e.config=i,s&&(e.code=s),e.request=t,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e};

},{}],13:[function(require,module,exports){
"use strict";var utils=require("../utils");module.exports=function(e,t){t=t||{};var i={},s=["url","method","data"],n=["headers","auth","proxy","params"],r=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function a(e,t){return utils.isPlainObject(e)&&utils.isPlainObject(t)?utils.merge(e,t):utils.isPlainObject(t)?utils.merge({},t):utils.isArray(t)?t.slice():t}function u(s){utils.isUndefined(t[s])?utils.isUndefined(e[s])||(i[s]=a(void 0,e[s])):i[s]=a(e[s],t[s])}utils.forEach(s,function(e){utils.isUndefined(t[e])||(i[e]=a(void 0,t[e]))}),utils.forEach(n,u),utils.forEach(r,function(s){utils.isUndefined(t[s])?utils.isUndefined(e[s])||(i[s]=a(void 0,e[s])):i[s]=a(void 0,t[s])}),utils.forEach(o,function(s){s in t?i[s]=a(e[s],t[s]):s in e&&(i[s]=a(void 0,e[s]))});var c=s.concat(n).concat(r).concat(o),l=Object.keys(e).concat(Object.keys(t)).filter(function(e){return-1===c.indexOf(e)});return utils.forEach(l,u),i};

},{"../utils":28}],14:[function(require,module,exports){
"use strict";var createError=require("./createError");module.exports=function(t,r,e){var s=e.config.validateStatus;e.status&&s&&!s(e.status)?r(createError("Request failed with status code "+e.status,e.config,null,e.request,e)):t(e)};

},{"./createError":10}],15:[function(require,module,exports){
"use strict";var utils=require("./../utils"),defaults=require("./../defaults");module.exports=function(t,u,e){var r=this||defaults;return utils.forEach(e,function(e){t=e.call(r,t,u)}),t};

},{"./../defaults":16,"./../utils":28}],16:[function(require,module,exports){
(function (process){
"use strict";var utils=require("./utils"),normalizeHeaderName=require("./helpers/normalizeHeaderName"),enhanceError=require("./core/enhanceError"),DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!utils.isUndefined(e)&&utils.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function getDefaultAdapter(){var e;return"undefined"!=typeof XMLHttpRequest?e=require("./adapters/xhr"):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(e=require("./adapters/http")),e}function stringifySafely(e,t,r){if(utils.isString(e))try{return(t||JSON.parse)(e),utils.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}var defaults={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:getDefaultAdapter(),transformRequest:[function(e,t){return normalizeHeaderName(t,"Accept"),normalizeHeaderName(t,"Content-Type"),utils.isFormData(e)||utils.isArrayBuffer(e)||utils.isBuffer(e)||utils.isStream(e)||utils.isFile(e)||utils.isBlob(e)?e:utils.isArrayBufferView(e)?e.buffer:utils.isURLSearchParams(e)?(setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):utils.isObject(e)||t&&"application/json"===t["Content-Type"]?(setContentTypeIfUnset(t,"application/json"),stringifySafely(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||n&&utils.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw enhanceError(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function(e){defaults.headers[e]={}}),utils.forEach(["post","put","patch"],function(e){defaults.headers[e]=utils.merge(DEFAULT_CONTENT_TYPE)}),module.exports=defaults;

}).call(this,require('_process'))
},{"./adapters/http":2,"./adapters/xhr":2,"./core/enhanceError":12,"./helpers/normalizeHeaderName":24,"./utils":28,"_process":30}],17:[function(require,module,exports){
"use strict";module.exports=function(r,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(n,t)}};

},{}],18:[function(require,module,exports){
"use strict";var utils=require("./../utils");function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}module.exports=function(e,i,r){if(!i)return e;var t;if(r)t=r(i);else if(utils.isURLSearchParams(i))t=i.toString();else{var n=[];utils.forEach(i,function(e,i){null!=e&&(utils.isArray(e)?i+="[]":e=[e],utils.forEach(e,function(e){utils.isDate(e)?e=e.toISOString():utils.isObject(e)&&(e=JSON.stringify(e)),n.push(encode(i)+"="+encode(e))}))}),t=n.join("&")}if(t){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+t}return e};

},{"./../utils":28}],19:[function(require,module,exports){
"use strict";module.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e};

},{}],20:[function(require,module,exports){
"use strict";var utils=require("./../utils");module.exports=utils.isStandardBrowserEnv()?{write:function(e,t,n,i,u,o){var r=[];r.push(e+"="+encodeURIComponent(t)),utils.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),utils.isString(i)&&r.push("path="+i),utils.isString(u)&&r.push("domain="+u),!0===o&&r.push("secure"),document.cookie=r.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};

},{"./../utils":28}],21:[function(require,module,exports){
"use strict";module.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)};

},{}],22:[function(require,module,exports){
"use strict";module.exports=function(o){return"object"==typeof o&&!0===o.isAxiosError};

},{}],23:[function(require,module,exports){
"use strict";var utils=require("./../utils");module.exports=utils.isStandardBrowserEnv()?function(){var t,r=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");function o(t){var o=t;return r&&(e.setAttribute("href",o),o=e.href),e.setAttribute("href",o),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return t=o(window.location.href),function(r){var e=utils.isString(r)?o(r):r;return e.protocol===t.protocol&&e.host===t.host}}():function(){return!0};

},{"./../utils":28}],24:[function(require,module,exports){
"use strict";var utils=require("../utils");module.exports=function(e,t){utils.forEach(e,function(r,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[s])})};

},{"../utils":28}],25:[function(require,module,exports){
"use strict";var utils=require("./../utils"),ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function(t){var e,i,r,o={};return t?(utils.forEach(t.split("\n"),function(t){if(r=t.indexOf(":"),e=utils.trim(t.substr(0,r)).toLowerCase(),i=utils.trim(t.substr(r+1)),e){if(o[e]&&ignoreDuplicateOf.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([i]):o[e]?o[e]+", "+i:i}}),o):o};

},{"./../utils":28}],26:[function(require,module,exports){
"use strict";module.exports=function(n){return function(t){return n.apply(null,t)}};

},{}],27:[function(require,module,exports){
"use strict";var pkg=require("./../../package.json"),validators={};["object","boolean","number","function","string","symbol"].forEach(function(r,e){validators[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});var deprecatedWarnings={},currentVerArr=pkg.version.split(".");function isOlderVersion(r,e){for(var n=e?e.split("."):currentVerArr,o=r.split("."),t=0;t<3;t++){if(n[t]>o[t])return!0;if(n[t]<o[t])return!1}return!1}function assertOptions(r,e,n){if("object"!=typeof r)throw new TypeError("options must be an object");for(var o=Object.keys(r),t=o.length;t-- >0;){var i=o[t],s=e[i];if(s){var a=r[i],u=void 0===a||s(a,i,r);if(!0!==u)throw new TypeError("option "+i+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+i)}}validators.transitional=function(r,e,n){var o=e&&isOlderVersion(e);function t(r,e){return"[Axios v"+pkg.version+"] Transitional option '"+r+"'"+e+(n?". "+n:"")}return function(n,i,s){if(!1===r)throw new Error(t(i," has been removed in "+e));return o&&!deprecatedWarnings[i]&&(deprecatedWarnings[i]=!0,console.warn(t(i," has been deprecated since v"+e+" and will be removed in the near future"))),!r||r(n,i,s)}},module.exports={isOlderVersion:isOlderVersion,assertOptions:assertOptions,validators:validators};

},{"./../../package.json":29}],28:[function(require,module,exports){
"use strict";var bind=require("./helpers/bind"),toString=Object.prototype.toString;function isArray(r){return"[object Array]"===toString.call(r)}function isUndefined(r){return void 0===r}function isBuffer(r){return null!==r&&!isUndefined(r)&&null!==r.constructor&&!isUndefined(r.constructor)&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}function isArrayBuffer(r){return"[object ArrayBuffer]"===toString.call(r)}function isFormData(r){return"undefined"!=typeof FormData&&r instanceof FormData}function isArrayBufferView(r){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer&&r.buffer instanceof ArrayBuffer}function isString(r){return"string"==typeof r}function isNumber(r){return"number"==typeof r}function isObject(r){return null!==r&&"object"==typeof r}function isPlainObject(r){if("[object Object]"!==toString.call(r))return!1;var t=Object.getPrototypeOf(r);return null===t||t===Object.prototype}function isDate(r){return"[object Date]"===toString.call(r)}function isFile(r){return"[object File]"===toString.call(r)}function isBlob(r){return"[object Blob]"===toString.call(r)}function isFunction(r){return"[object Function]"===toString.call(r)}function isStream(r){return isObject(r)&&isFunction(r.pipe)}function isURLSearchParams(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}function trim(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function forEach(r,t){if(null!=r)if("object"!=typeof r&&(r=[r]),isArray(r))for(var e=0,i=r.length;e<i;e++)t.call(null,r[e],e,r);else for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.call(null,r[n],n,r)}function merge(){var r={};function t(t,e){isPlainObject(r[e])&&isPlainObject(t)?r[e]=merge(r[e],t):isPlainObject(t)?r[e]=merge({},t):isArray(t)?r[e]=t.slice():r[e]=t}for(var e=0,i=arguments.length;e<i;e++)forEach(arguments[e],t);return r}function extend(r,t,e){return forEach(t,function(t,i){r[i]=e&&"function"==typeof t?bind(t,e):t}),r}function stripBOM(r){return 65279===r.charCodeAt(0)&&(r=r.slice(1)),r}module.exports={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isPlainObject:isPlainObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,extend:extend,trim:trim,stripBOM:stripBOM};

},{"./helpers/bind":17}],29:[function(require,module,exports){
module.exports={
  "_from": "axios@0.21.4",
  "_id": "axios@0.21.4",
  "_inBundle": false,
  "_integrity": "sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==",
  "_location": "/axios",
  "_phantomChildren": {},
  "_requested": {
    "type": "version",
    "registry": true,
    "raw": "axios@0.21.4",
    "name": "axios",
    "escapedName": "axios",
    "rawSpec": "0.21.4",
    "saveSpec": null,
    "fetchSpec": "0.21.4"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/axios/-/axios-0.21.4.tgz",
  "_shasum": "c67b90dc0568e5c1cf2b0b858c43ba28e2eda575",
  "_spec": "axios@0.21.4",
  "_where": "/Users/edisch/dev/clients/me/drupal-jsonapi-client",
  "author": {
    "name": "Matt Zabriskie"
  },
  "browser": {
    "./lib/adapters/http.js": "./lib/adapters/xhr.js"
  },
  "bugs": {
    "url": "https://github.com/axios/axios/issues"
  },
  "bundleDependencies": false,
  "bundlesize": [
    {
      "path": "./dist/axios.min.js",
      "threshold": "5kB"
    }
  ],
  "dependencies": {
    "follow-redirects": "^1.14.0"
  },
  "deprecated": false,
  "description": "Promise based HTTP client for the browser and node.js",
  "devDependencies": {
    "coveralls": "^3.0.0",
    "es6-promise": "^4.2.4",
    "grunt": "^1.3.0",
    "grunt-banner": "^0.6.0",
    "grunt-cli": "^1.2.0",
    "grunt-contrib-clean": "^1.1.0",
    "grunt-contrib-watch": "^1.0.0",
    "grunt-eslint": "^23.0.0",
    "grunt-karma": "^4.0.0",
    "grunt-mocha-test": "^0.13.3",
    "grunt-ts": "^6.0.0-beta.19",
    "grunt-webpack": "^4.0.2",
    "istanbul-instrumenter-loader": "^1.0.0",
    "jasmine-core": "^2.4.1",
    "karma": "^6.3.2",
    "karma-chrome-launcher": "^3.1.0",
    "karma-firefox-launcher": "^2.1.0",
    "karma-jasmine": "^1.1.1",
    "karma-jasmine-ajax": "^0.1.13",
    "karma-safari-launcher": "^1.0.0",
    "karma-sauce-launcher": "^4.3.6",
    "karma-sinon": "^1.0.5",
    "karma-sourcemap-loader": "^0.3.8",
    "karma-webpack": "^4.0.2",
    "load-grunt-tasks": "^3.5.2",
    "minimist": "^1.2.0",
    "mocha": "^8.2.1",
    "sinon": "^4.5.0",
    "terser-webpack-plugin": "^4.2.3",
    "typescript": "^4.0.5",
    "url-search-params": "^0.10.0",
    "webpack": "^4.44.2",
    "webpack-dev-server": "^3.11.0"
  },
  "homepage": "https://axios-http.com",
  "jsdelivr": "dist/axios.min.js",
  "keywords": [
    "xhr",
    "http",
    "ajax",
    "promise",
    "node"
  ],
  "license": "MIT",
  "main": "index.js",
  "name": "axios",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/axios/axios.git"
  },
  "scripts": {
    "build": "NODE_ENV=production grunt build",
    "coveralls": "cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",
    "examples": "node ./examples/server.js",
    "fix": "eslint --fix lib/**/*.js",
    "postversion": "git push && git push --tags",
    "preversion": "npm test",
    "start": "node ./sandbox/server.js",
    "test": "grunt test",
    "version": "npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"
  },
  "typings": "./index.d.ts",
  "unpkg": "dist/axios.min.js",
  "version": "0.21.4"
}

},{}],30:[function(require,module,exports){
var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],31:[function(require,module,exports){
(function (process,global){
!function(){var t="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)||"undefined"!=typeof navigator&&"ReactNative"===navigator.product?global:self;t.Proxy||(t.Proxy=function(){function t(){return null}function r(t){return!!t&&("object"==typeof t||"function"==typeof t)}function n(t){if(null!==t&&!r(t))throw new TypeError("Object prototype may only be an Object or null: "+t)}var e=null,o=Object,i=!(!o.create&&{__proto__:null}instanceof o),u=o.create||(i?function(t){return n(t),{__proto__:t}}:function(t){function r(){}if(n(t),null===t)throw new SyntaxError("Native Object.create is required to create objects with null prototype");return r.prototype=t,new r}),c=o.getPrototypeOf||([].__proto__===Array.prototype?function(t){return r(t=t.__proto__)?t:null}:t),a=function(p,l){function f(){}if(void 0===(this&&this instanceof a?this.constructor:void 0))throw new TypeError("Constructor Proxy requires 'new'");if(!r(p)||!r(l))throw new TypeError("Cannot create proxy with a non-object as target or handler");e=function(){p=null,f=function(t){throw new TypeError("Cannot perform '"+t+"' on a proxy that has been revoked")}},setTimeout(function(){e=null},0);var s=l;for(var y in l={get:null,set:null,apply:null,construct:null},s){if(!(y in l))throw new TypeError("Proxy polyfill does not support trap '"+y+"'");l[y]=s[y]}"function"==typeof s&&(l.apply=s.apply.bind(s)),s=c(p);var h=!1,_=!1;if("function"==typeof p){var v=function(){var t=this&&this.constructor===v,r=Array.prototype.slice.call(arguments);return f(t?"construct":"apply"),t&&l.construct?l.construct.call(this,p,r):!t&&l.apply?l.apply(p,this,r):t?(r.unshift(p),new(p.bind.apply(p,r))):p.apply(this,r)};h=!0}else p instanceof Array?(v=[],_=!0):v=i||null!==s?u(s):{};var b=l.get?function(t){return f("get"),l.get(this,t,v)}:function(t){return f("get"),this[t]},w=l.set?function(t,r){f("set"),l.set(this,t,r,v)}:function(t,r){f("set"),this[t]=r},d={};if(o.getOwnPropertyNames(p).forEach(function(t){if(!((h||_)&&t in v)){var r=o.getOwnPropertyDescriptor(p,t);o.defineProperty(v,t,{enumerable:!!r.enumerable,get:b.bind(p,t),set:w.bind(p,t)}),d[t]=!0}}),y=!0,h||_){var g=o.setPrototypeOf||([].__proto__===Array.prototype?function(t,r){return n(r),t.__proto__=r,t}:t);s&&g(v,s)||(y=!1)}if(l.get||!y)for(var P in p)d[P]||o.defineProperty(v,P,{get:b.bind(p,P)});return o.seal(p),o.seal(v),v};return a.revocable=function(t,r){return{proxy:new a(t,r),revoke:e}},a}(),t.Proxy.revocable=t.Proxy.revocable)}();

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"_process":30}],32:[function(require,module,exports){
var runtime=function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,r,e,n){var o=r&&r.prototype instanceof v?r:v,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,r,e){var n=f;return function(o,i){if(n===l)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return N()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=_(a,e);if(c){if(c===y)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===f)throw n=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=l;var u=h(t,r,e);if("normal"===u.type){if(n=e.done?p:s,u.arg===y)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=p,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function h(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f="suspendedStart",s="suspendedYield",l="executing",p="completed",y={};function v(){}function d(){}function g(){}var m={};m[i]=function(){return this};var w=Object.getPrototypeOf,L=w&&w(w(G([])));L&&L!==e&&n.call(L,i)&&(m=L);var x=g.prototype=v.prototype=Object.create(m);function E(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function b(t){var r;this._invoke=function(e,o){function i(){return new Promise(function(r,i){!function r(e,o,i,a){var c=h(t[e],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?Promise.resolve(f.__await).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):Promise.resolve(f).then(function(t){u.value=t,i(u)},function(t){return r("throw",t,i,a)})}a(c.arg)}(e,o,r,i)})}return r=r?r.then(i,i):i()}}function _(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,_(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,y):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function j(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function O(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function G(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:N}}function N(){return{value:r,done:!0}}return d.prototype=x.constructor=g,g.constructor=d,g[c]=d.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===d||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},E(b.prototype),b.prototype[a]=function(){return this},t.AsyncIterator=b,t.async=function(r,e,n,o){var i=new b(u(r,e,n,o));return t.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),x[c]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=G,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),O(e),y}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;O(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:G(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),y}},t}("object"==typeof module?module.exports:{});try{regeneratorRuntime=runtime}catch(t){Function("r","regeneratorRuntime = r")(runtime)}

},{}],33:[function(require,module,exports){
"use strict";module.exports=require("./index");

},{"./index":45}],34:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class Client{constructor(t){let{transport:e,baseUrl:s,authorization:r,sendCookies:o=!1,middleware:i=[]}=t;this.transport=e,this.baseUrl=s,this.authorization=r,this.sendCookies=o,this.middleware=i,this.user=null}async _fetchCSRFToken(){if(this.user&&this.user._csrfToken)return this.user._csrfToken;return(await this.send({url:"/rest/session/token",method:"GET"})).data}async send(t){if(!this.transport)throw new Error("No HTTP transport method provided. Pass a transport function to your Client or set GlobalClient.transport.");if(t.baseURL=this.baseUrl,t.headers=t.headers||{},!0===this.sendCookies&&(t.withCredentials=!0,-1===t.url.indexOf("/rest/session/token"))){const e=await this._fetchCSRFToken();t.headers["X-CSRF-Token"]=e}"string"==typeof this.authorization&&(t.headers.Authorization=this.authorization);let e=t;for(let t=0;t<this.middleware.length;t+=1)e=await this.middleware[t](e);const s=this.transport(e);if(!s)throw new Error(`HTTP transport returned ${s}. Expected a Response.`);return s}}exports.default=Client;

},{}],35:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _EntityNotFound=_interopRequireDefault(require("./Error/EntityNotFound")),_MalformedEntity=_interopRequireDefault(require("./Error/MalformedEntity")),_GlobalClient=_interopRequireDefault(require("./GlobalClient")),_QueryParameters=_interopRequireDefault(require("./QueryParameters"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const TypeHeaders={Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"};class Entity{static FromResponse(t){const e=new Entity;return e._applySerializedData(t),e}static async Load(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";if(Entity.Cache[i]&&!1===a)return Entity.FromResponse(Entity.Cache[i]);const r=[];n.length>0&&r.push(`include=${n.join(",")}`),""!==s&&r.push(`resourceVersion=${s}`);const d=new _QueryParameters.default(r),l=(await _GlobalClient.default.send({url:`/jsonapi/${t}/${e}/${i}${r.length>0?`?${d.toString()}`:""}`,method:"GET",headers:TypeHeaders})).data;if(l&&l.data){const t=Entity.FromResponse(l.data);return Entity.Cache[i]={...t._serialize().data,id:t.entityUuid},l.included&&l.included.forEach(t=>{const e=Entity.FromResponse(t);Entity.Cache[e.entityUuid]={...e._serialize().data,id:e.entityUuid}}),t}throw new _EntityNotFound.default(`Failed to find entity matching entity type ${t}, entity bundle ${e} and uuid ${i}`)}static async LoadMultiple(t){let{entityType:e,entityBundle:i,filter:n={},include:a=[],pageOffset:s=0,pageLimit:r=50}=t;const d="function"==typeof n.query?n.query():n,l=new _QueryParameters.default([d,a.length>0?`include=${a.join(",")}`:null,`page[offset]=${s}`,`page[limit]=${r}`]),o=(await _GlobalClient.default.send({url:`/jsonapi/${e}/${i}?${l.toString(Number.MAX_SAFE_INTEGER)}`,method:"GET",headers:TypeHeaders})).data;return o&&o.data&&o.data.length&&o.data.length>0?(o.included&&o.included.length&&o.included.forEach(t=>{const e=new Entity;e._applySerializedData(t),Entity.Cache[e.entityUuid]={...e._serialize().data,id:e.entityUuid}}),o.data.map(t=>{const e=new Entity;return e._applySerializedData(t),Entity.Cache[e.entityUuid]={...e._serialize().data,id:e.entityUuid},e})):o.data}static async Delete(t,e,i){return new Entity(t,e,i).delete()}constructor(t,e,i){return this.entityType=t,this.entityBundle=e,this.entityUuid=i||null,this.enforceNew=!1,this._attributes={},this._relationships={},this._changes={attributes:{},relationships:{}},new Proxy(this,{get:(t,e)=>{let i=e;const n={nid:"drupal_internal__nid",vid:"drupal_internal__vid"};return i in n&&(i=n[i]),i in t||!t._hasField(i)?t[e]:t.get(e)},set:(t,e,i)=>{let n=e;const a={nid:"drupal_internal__nid",vid:"drupal_internal__vid"};return n in a&&(n=a[n]),n in t||!t._hasField(n)?(t[n]=i,!0):(t.set(n,i),!0)}})}_applySerializedData(t){const[e,i]=t.type.split("--");this.entityType=e,this.entityBundle=i,this.entityUuid=t.id,this._attributes=t.attributes||{},t.relationships?this._relationships=Object.keys(t.relationships).map(e=>({data:t.relationships[e].data,_$key:e})).reduce((t,e)=>{const i=e._$key,n=e;return delete n._$key,{...t,[i]:n}},{}):this._relationships={}}_serializeChanges(){const t={data:{type:`${this.entityType}--${this.entityBundle}`,attributes:this._changes.attributes,relationships:this._changes.relationships}};return 0===Object.keys(t.data.attributes).length&&delete t.data.attributes,0===Object.keys(t.data.relationships).length&&delete t.data.relationships,this.entityUuid&&(t.data.id=this.entityUuid),t}_serializeChangesForField(t){return{data:this.getChange(t)}}_serialize(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e={data:{type:`${this.entityType}--${this.entityBundle}`,attributes:this._attributes,relationships:this._relationships}};return 0===Object.keys(e.data.attributes).length&&delete e.data.attributes,0===Object.keys(e.data.relationships).length&&delete e.data.relationships,t&&this.entityUuid&&(e.data.id=this.entityUuid),e}_hasField(t){return t in this._attributes||t in this._relationships}get(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0!==this._attributes[t])return this._attributes[t];if(void 0!==this._relationships[t])return this._relationships[t];if(e)throw new Error(`Failed to find field ${t}.`);return null}set(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._attributes[t])return this.setAttribute(t,e),!0;if(this._relationships[t])return this.setRelationship(t,e),!0;if(i)throw new Error(`Failed to set ${t} to ${e}. Field does not exist.`);return!1}getChange(t){return void 0!==this._changes.attributes[t]?this._changes.attributes[t]:this._changes.relationships[t]}async expand(t){if(!this._relationships[t])throw new _MalformedEntity.default(`Failed to find related entity from field ${t}`);if(this._relationships[t].data&&this._relationships[t].data.type&&"string"==typeof this._relationships[t].data.type&&this._relationships[t].data.id){const[e,i]=this._relationships[t].data.type.split("--");return Entity.Load(e,i,this._relationships[t].data.id)}if(this._relationships[t].data&&this._relationships[t].data.constructor===Array)return Promise.all(this._relationships[t].data.map(t=>{if("string"==typeof t.type&&"string"==typeof t.id){const[e,i]=t.type.split("--");return Entity.Load(e,i,t.id)}return null}).filter(t=>!!t));throw new _MalformedEntity.default(`Related field ${t} doesn't have sufficient information to expand.`)}setAttribute(t,e){this._attributes[t]=e,this._changes.attributes[t]=e}setRelationship(t,e){let i=e;e instanceof Entity&&(i={data:{type:`${e.entityType}--${e.entityBundle}`,id:e.entityUuid}}),e.constructor===Array&&e.every(t=>t instanceof Entity)&&(i={data:e.map(t=>({type:`${t.entityType}--${t.entityBundle}`,id:t.entityUuid}))}),this._relationships[t]=i,this._changes.relationships[t]=i}save(){return _GlobalClient.default.send(!0!==this.enforceNew&&this.entityUuid?{url:`/jsonapi/${this.entityType}/${this.entityBundle}/${this.entityUuid}`,method:"PATCH",headers:{...TypeHeaders},data:JSON.stringify(this._serializeChanges())}:{url:`/jsonapi/${this.entityType}/${this.entityBundle}`,method:"POST",headers:{...TypeHeaders},data:JSON.stringify(this._serialize(!1))})}delete(){if(!this.entityUuid)throw new _MalformedEntity.default("Cannot delete an entity without a UUID.");return _GlobalClient.default.send({url:`/jsonapi/${this.entityType}/${this.entityBundle}/${this.entityUuid}`,method:"DELETE",headers:{...TypeHeaders}})}copy(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=new Entity(this.entityType,this.entityBundle);return e._attributes=this._attributes,e._relationships=this._relationships,e._changes=this._changes,t&&(e.entityUuid=this.entityUuid),e}}exports.default=Entity,_defineProperty(Entity,"Cache",{});

},{"./Error/EntityNotFound":36,"./Error/MalformedEntity":37,"./GlobalClient":42,"./QueryParameters":43}],36:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class EntityNotFound extends Error{}exports.default=EntityNotFound;

},{}],37:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class MalformedEntity extends Error{}exports.default=MalformedEntity;

},{}],38:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"EntityNotFound",{enumerable:!0,get:function(){return _EntityNotFound.default}}),Object.defineProperty(exports,"MalformedEntity",{enumerable:!0,get:function(){return _MalformedEntity.default}});var _EntityNotFound=_interopRequireDefault(require("./EntityNotFound")),_MalformedEntity=_interopRequireDefault(require("./MalformedEntity"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./EntityNotFound":36,"./MalformedEntity":37}],39:[function(require,module,exports){
(function (process,global){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _GlobalClient=_interopRequireDefault(require("./GlobalClient")),_Entity=_interopRequireDefault(require("./Entity"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}!function(e){e.File||(e.File=function(){},e.FileReader=function(){})}("undefined"!=typeof process&&"[object process]"==={}.toString.call(process)||"undefined"!=typeof navigator&&"ReactNative"===navigator.product?global:self);class FileEntity extends _Entity.default{static async Upload(e,t,i,a,n){let l,o=t;e instanceof File?(l=await new Promise(t=>{const i=new FileReader;i.onload=(e=>{t(e.target.result)}),i.readAsArrayBuffer(e)}),null===t&&(o=e.name)):l=e;const r=(await _GlobalClient.default.send({url:`/jsonapi/${i}/${a}/${n}`,method:"POST",headers:{Accept:"application/vnd.api+json","Content-Type":"application/octet-stream","Content-Disposition":`file; filename="${o}"`},data:l})).data,s=new FileEntity;return s._applySerializedData(r.data),s}static async Load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.Load("file","file",e,t,i)}static async Delete(e){return super.Delete("file","file",e)}constructor(e){super("file","file",e)}}exports.default=FileEntity;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./Entity":35,"./GlobalClient":42,"_process":30}],40:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class Filter{constructor(t){let{identifier:e,path:i,operator:r="=",value:o,memberOf:s}=t;this.identifier=e,this.path=i,this.operator=r,this.value=o,this.memberOf=s}query(){return[`filter[${this.identifier}][condition][path]=${this.path}`,"="!==this.operator?`filter[${this.identifier}][condition][operator]=${this.operator}`:"",this.memberOf?`filter[${this.identifier}][condition][memberOf]=${this.memberOf}`:"","function"==typeof this.value.map?this.value.map(t=>`filter[${this.identifier}][condition][value][]=${t}`):`filter[${this.identifier}][condition][value]=${this.value}`]}}exports.default=Filter;

},{}],41:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class FilterGroup{constructor(e){let{identifier:i,type:t,memberOf:r,children:s}=e;this.identifier=i,this.type=t,this.memberOf=r,this.children=s.map(e=>(e.memberOf=this.identifier,e))}query(){return[`filter[${this.identifier}][group][conjunction]=${this.type}`,this.memberOf?`filter[${this.identifier}][group][memberOf]=${this.memberOf}`:"",...this.children.map(e=>e.query())]}}exports.default=FilterGroup;

},{}],42:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _axios=_interopRequireDefault(require("axios")),_Client=_interopRequireDefault(require("./Client"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const GlobalClient=new _Client.default({transport:_axios.default.request,baseUrl:"",authorization:null,sendCookies:!1,middleware:[]});var _default=GlobalClient;exports.default=_default;

},{"./Client":34,"axios":1}],43:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,Array.prototype.flat||(Array.prototype.flat=function(r){var t=[];return function r(e,a){for(let o of e)Array.isArray(o)&&a>0?r(o,a-1):t.push(o)}(this,Math.floor(r)||1),t});class QueryParameters{constructor(r){this.queryParameters=r}toString(r){return this.queryParameters.flat(r).map(r=>r&&r.query?r.query():r).flat(r).filter(r=>!!r).join("&")}}exports.default=QueryParameters;

},{}],44:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Entity=_interopRequireDefault(require("./Entity")),_GlobalClient=_interopRequireDefault(require("./GlobalClient"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class User extends _Entity.default{static async Login(e,t){return(await _GlobalClient.default.send({url:"/user/login?_format=json",method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({name:e,pass:t})})).data}static async Register(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s={name:[{value:t}],mail:[{value:e}],pass:[{value:a}]};null===a&&delete s.pass;const l=await _GlobalClient.default._fetchCSRFToken();return(await _GlobalClient.default.send({url:"/user/register?_format=json",method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":l},data:JSON.stringify(s)})).data}static async Create(e,t,a){let s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const l=new User(null,null);l.setAttribute("mail",e),l.setAttribute("name",t),l.setAttribute("pass",a),l.setAttribute("status",s);const n=(await l.save()).data;return l._applySerializedData(n.data),l}static async Load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.Load("user","user",e,t,a)}constructor(e,t){super("user","user",e),this._csrfToken=t}setDefault(){_GlobalClient.default.user=this}}exports.default=User;

},{"./Entity":35,"./GlobalClient":42}],45:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _exportNames={Client:!0,Entity:!0,User:!0,File:!0,Filter:!0,FilterGroup:!0,QueryParameters:!0,GlobalClient:!0};Object.defineProperty(exports,"Client",{enumerable:!0,get:function(){return _Client.default}}),Object.defineProperty(exports,"Entity",{enumerable:!0,get:function(){return _Entity.default}}),Object.defineProperty(exports,"File",{enumerable:!0,get:function(){return _FileEntity.default}}),Object.defineProperty(exports,"Filter",{enumerable:!0,get:function(){return _Filter.default}}),Object.defineProperty(exports,"FilterGroup",{enumerable:!0,get:function(){return _FilterGroup.default}}),Object.defineProperty(exports,"GlobalClient",{enumerable:!0,get:function(){return _GlobalClient.default}}),Object.defineProperty(exports,"QueryParameters",{enumerable:!0,get:function(){return _QueryParameters.default}}),Object.defineProperty(exports,"User",{enumerable:!0,get:function(){return _User.default}}),require("regenerator-runtime/runtime"),require("proxy-polyfill");var _Client=_interopRequireDefault(require("./Client")),_Entity=_interopRequireDefault(require("./Entity")),_User=_interopRequireDefault(require("./User")),_FileEntity=_interopRequireDefault(require("./FileEntity")),_Filter=_interopRequireDefault(require("./Filter")),_FilterGroup=_interopRequireDefault(require("./FilterGroup")),_QueryParameters=_interopRequireDefault(require("./QueryParameters")),_GlobalClient=_interopRequireDefault(require("./GlobalClient")),_Error=require("./Error");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.keys(_Error).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(_exportNames,e)||e in exports&&exports[e]===_Error[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _Error[e]}}))});

},{"./Client":34,"./Entity":35,"./Error":38,"./FileEntity":39,"./Filter":40,"./FilterGroup":41,"./GlobalClient":42,"./QueryParameters":43,"./User":44,"proxy-polyfill":31,"regenerator-runtime/runtime":32}]},{},[33])(33)
});
