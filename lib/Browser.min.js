(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.DrupalJsonApi = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";module.exports=require("./index");

},{"./index":8}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Resource=_interopRequireDefault(require("./Resource"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class FileResource extends _Resource.default{static New({type:e,field:t,file:i,fileName:r}){const[o,a]=e.split("--");return{url:`/${o}/${a}/${t}`,method:"POST",headers:{Accept:"application/vnd.api+json","Content-Type":"application/octet-stream","Content-Disposition":`file; filename="${r}"`},data:i}}}var _default=FileResource;exports.default=_default;

},{"./Resource":6}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class Filter{constructor({identifier:i,path:t,operator:e="=",value:r,memberOf:o}){this.identifier=i,this.path=t,this.operator=e,this.value=r,this.memberOf=o}query(){return[`filter[${this.identifier}][condition][path]=${this.path}`,"="!==this.operator?`filter[${this.identifier}][condition][operator]=${this.operator}`:"",this.memberOf?`filter[${this.identifier}][condition][memberOf]=${this.memberOf}`:"","function"==typeof this.value.map?this.value.map(i=>`filter[${this.identifier}][condition][value][]=${i}`):`filter[${this.identifier}][condition][value]=${this.value}`]}}exports.default=Filter;

},{}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class FilterGroup{constructor({identifier:e,type:i,memberOf:t,children:r}){this.identifier=e,this.type=i,this.memberOf=t,this.children=r.map(e=>(e.memberOf=this.identifier,e))}query(){return[`filter[${this.identifier}][group][conjunction]=${this.type}`,this.memberOf?`filter[${this.identifier}][group][memberOf]=${this.memberOf}`:"",...this.children.map(e=>e.query())]}}exports.default=FilterGroup;

},{}],5:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,Array.prototype.flat||(Array.prototype.flat=function(r){var t=[];return function r(e,a){for(let o of e)Array.isArray(o)&&a>0?r(o,a-1):t.push(o)}(this,Math.floor(r)||1),t});class QueryParameters{constructor(r){this.queryParameters=r}toString(r){return this.queryParameters.flat(r).map(r=>r&&r.query?r.query():r).flat(r).filter(r=>!!r).join("&")}}exports.default=QueryParameters;

},{}],6:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _QueryParameters=_interopRequireDefault(require("./QueryParameters"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const withMimeType=e=>({...e,headers:{...e.headers,Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}});class Resource{static Get({type:e,id:t,query:r=null}){const[i,u]=e.split("--");return withMimeType({method:"GET",url:`/${i}/${u}/${t}${r?`?${r}`:""}`})}static GetList({type:e,filter:t=null,sort:r=null,query:i=[],include:u=[],offset:a=0,limit:n=50}){const[s,l]=e.split("--"),p=[...i,`page[offset]=${a}`,`page[limit]=${n}`];return null!==t&&p.push("function"==typeof t.query?t.query():t),null!==r&&p.push("function"==typeof r.query?r.query():r),u.length>0&&p.push(`include=${u.join(",")}`),withMimeType({method:"GET",url:`/${s}/${l}?${new _QueryParameters.default(p).toString(Number.MAX_SAFE_INTEGER)}`})}static New({type:e,data:t={}}){const[r,i]=e.split("--");return withMimeType({url:`/${r}/${i}`,method:"POST",data:JSON.stringify({data:{type:e,...t}})})}static Update({type:e,id:t,data:r={}}){const[i,u]=e.split("--");return withMimeType({url:`/${i}/${u}/${t}`,method:"PATCH",data:JSON.stringify({data:{type:e,id:t,...r}})})}}var _default=Resource;exports.default=_default;

},{"./QueryParameters":5}],7:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.SortDirection=void 0;const SortDirection={DESCENDING:"DESC",ASCENDING:"ASC"};exports.SortDirection=SortDirection;class Sort{constructor({identifier:t,path:i,direction:r=SortDirection.ASCENDING}){this.identifier=t,this.path=i,this.direction=r}query(){return[`sort[${this.identifier}][path]=${this.path}`,this.direction===SortDirection.DESCENDING?`sort[${this.identifier}][direction]=${this.direction}`:""]}}exports.default=Sort;

},{}],8:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Filter",{enumerable:!0,get:function(){return _Filter.default}}),Object.defineProperty(exports,"FilterGroup",{enumerable:!0,get:function(){return _FilterGroup.default}}),Object.defineProperty(exports,"Sort",{enumerable:!0,get:function(){return _Sort.default}}),Object.defineProperty(exports,"SortDirection",{enumerable:!0,get:function(){return _Sort.SortDirection}}),Object.defineProperty(exports,"QueryParameters",{enumerable:!0,get:function(){return _QueryParameters.default}}),Object.defineProperty(exports,"Resource",{enumerable:!0,get:function(){return _Resource.default}}),Object.defineProperty(exports,"FileResource",{enumerable:!0,get:function(){return _FileResource.default}});var _Filter=_interopRequireDefault(require("./Filter")),_FilterGroup=_interopRequireDefault(require("./FilterGroup")),_Sort=_interopRequireWildcard(require("./Sort")),_QueryParameters=_interopRequireDefault(require("./QueryParameters")),_Resource=_interopRequireDefault(require("./Resource")),_FileResource=_interopRequireDefault(require("./FileResource"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var u={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=i?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(u,n,o):u[n]=e[n]}return u.default=e,t&&t.set(e,u),u}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./FileResource":2,"./Filter":3,"./FilterGroup":4,"./QueryParameters":5,"./Resource":6,"./Sort":7}]},{},[1])(1)
});
